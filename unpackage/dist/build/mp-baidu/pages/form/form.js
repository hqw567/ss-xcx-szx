(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/form/form"],{3140:function(t,n,e){},"7cf8":function(t,n,e){"use strict";(function(t,n){e("900c");r(e("66fd"));var o=r(e("cea1"));function r(t){return t&&t.__esModule?t:{default:t}}t.__webpack_require_UNI_MP_PLUGIN__=e,n(o.default)}).call(this,e("5486")["default"],e("5486")["createPage"])},a1ff:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var o={uniForms:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(e.bind(null,"ab8f"))},uniFormsItem:function(){return e.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item").then(e.bind(null,"cdc8"))},uniEasyinput:function(){return e.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(e.bind(null,"a8f6"))},uniDataCheckbox:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox")]).then(e.bind(null,"5f53"))},uniDataPicker:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-data-picker/components/uni-data-picker/uni-data-picker")]).then(e.bind(null,"fdf3"))}},r=function(){var t=this,n=t.$createElement;t._self._c},a=[]},cea1:function(t,n,e){"use strict";e.r(n);var o=e("a1ff"),r=e("e27e");for(var a in r)"default"!==a&&function(t){e.d(n,t,(function(){return r[t]}))}(a);e("d108");var u,c=e("f0c5"),i=Object(c["a"])(r["default"],o["b"],o["c"],!1,null,"36e75cc2",null,!1,o["a"],u);n["default"]=i.exports},d108:function(t,n,e){"use strict";var o=e("3140"),r=e.n(o);r.a},e27e:function(t,n,e){"use strict";e.r(n);var o=e("e836"),r=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=r.a},e836:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("e8af"),r=a(e("55b5"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=c(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return u=t.done,t},e:function(t){i=!0,a=t},f:function(){try{u||null==e.return||e.return()}finally{if(i)throw a}}}}function c(t,n){if(t){if("string"===typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}var l={data:function(){return{range:[{value:"保密",text:"保密"},{value:"男",text:"男生"},{value:"女",text:"女生"}],formData:{sex:"保密",school:"",zhuanye:""},rules:{title:{rules:[{required:!0,errorMessage:"请输入姓名"},{minLength:2,maxLength:10,errorMessage:"姓名长度在 {minLength} 到 {maxLength} 个字符"}]},phone:{rules:[{required:!0,errorMessage:"请输入电话"},{pattern:"^(?:(?:\\+|00)86)?1\\d{10}$",errorMessage:"您的联系电话不正确，请重新输入"}]}}}},onLoad:function(t){t.schoolName&&(this.formData.school=t.schoolName),t.majorName&&(this.formData.zhuanye=t.majorName)},methods:{submit:function(){var n=this;this.$refs.form.validate().then((function(e){var r=e.city;if(r){var a,c=u(n.cityDataFn);try{for(c.s();!(a=c.n()).done;){var i,l=a.value,f=u(l.children);try{for(f.s();!(i=f.n()).done;){var s=i.value;s.value===r&&l.value.split("-")[0]===r.split("-")[0]&&(e.city="".concat(l.text,"-").concat(s.text))}}catch(I){f.e(I)}finally{f.f()}}}catch(I){c.e(I)}finally{c.f()}}var d=e.title,h=e.sex,m=e.phone,v=e.school,p=void 0===v?"":v,y=e.zhuanye,b=void 0===y?"":y,g=e.city,_=void 0===g?"":g,x=e.wxqq,k=void 0===x?"":x,w=e.note,P=void 0===w?"":w,M=m+" "+d,N=getCurrentPages()[getCurrentPages().length-2],j=N&&N.$page.fullPath||"",D="\n\t\t\t\t\t\t<p>来自上职校网百度小程序: ".concat(j,"</p>\n\t\t\t\t\t\t<h5>姓    名：").concat(d,"\t</h5>\n\t\t\t\t\t\t<h5>性    别：").concat(h,'\t</h5>\n\t\t\t\t\t\t<h5>联系电话：<span style="color:red;">').concat(m,"<span>\t</h5>\n\t\t\t\t\t\t<h5>意向学校：").concat(p,"\t</h5>\n\t\t\t\t\t\t<h5>意向专业：").concat(b,"\t</h5>\n\t\t\t\t\t\t<h5>所在地区：").concat(_,"\t</h5>\n\t\t\t\t\t\t<h5>微信或QQ：").concat(k,"\t</h5>\n\t\t\t\t\t\t<h5>备注信息：").concat(P,"\t</h5>\n\t\t\t\t\t");(0,o.submitSign)(e,j).then((function(n){t.showToast({title:"提交成功！",icon:"success",success:function(){t.navigateBack({delta:1}),(0,o.submitRegInfo)(M,D).then((function(t){console.log(t)}))}})}))})).catch((function(n){t.showModal({title:"提示",content:"提交失败,请重试！",showCancel:!1}),console.log("表单错误信息：",n)}))}},computed:{cityDataFn:function(){var t=[];if(r.default.provinces.forEach((function(n,e){var o=n.provinceName,r="".concat(e+1,"-0"),a=n.citys.map((function(t,n){return{text:t.cityName,value:"".concat(e+1,"-").concat(n+1)}})),u={text:o,value:r,children:a};t.push(u)})),t&&t.length>0)return t}}};n.default=l}).call(this,e("5486")["default"])}},[["7cf8","common/runtime","common/vendor"]]]);